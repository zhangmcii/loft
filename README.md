# ğŸŒŸ The-Reverie-Loft(éšæƒ³é˜æ¥¼) - ç§»åŠ¨ç«¯ç¤¾äº¤å¹³å°

> ä¸€ä¸ªåŸºäº Vue3 + Flask çš„ç§»åŠ¨ç«¯ä¼˜å…ˆçš„ç¤¾äº¤å¹³å°

[![License MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)[![Vue.js](https://img.shields.io/badge/Vue-3.x-brightgreen)](https://vuejs.org/)[![Flask](https://img.shields.io/badge/Flask-3.x-blue)](https://flask.palletsprojects.com/)

## ğŸ“– é¡¹ç›®ç®€ä»‹

The-Reverie-Loft(éšæƒ³é˜æ¥¼) æ˜¯ä¸€ä¸ªä¸“ä¸ºç§»åŠ¨ç«¯è®¾è®¡çš„ç¤¾äº¤å¹³å°ï¼Œæä¾›å®Œæ•´çš„ç¤¾äº¤åŠŸèƒ½ä½“éªŒã€‚é¡¹ç›®é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå‰ç«¯ä½¿ç”¨ Vue3 æ„å»ºç§»åŠ¨ç«¯ç•Œé¢ï¼Œåç«¯åŸºäº Flask æä¾›ç¨³å®šçš„ API æœåŠ¡ã€‚

### ç§»åŠ¨ç«¯ç•Œé¢
![ç™»å½•é¡µé¢](./docs/ç™»å½•é¡µé¢.png)
![ç”¨æˆ·é¦–é¡µ](./docs/ç”¨æˆ·é¦–é¡µ.png)
![ä¸ªäººèµ„æ–™1](./docs/ä¸ªäººèµ„æ–™1.png)
![ä¸ªäººèµ„æ–™2](./docs/ä¸ªäººèµ„æ–™2.png)
![èŠå¤©](./docs/èŠå¤©.png)
![æ–‡ç« è¯¦æƒ…](./docs/æ–‡ç« è¯¦æƒ….png)
![è¯„è®ºè¯¦æƒ…](./docs/è¯„è®ºè¯¦æƒ….png)
![é€šçŸ¥é¢æ¿](./docs/é€šçŸ¥é¢æ¿.png)
![å‘å¸ƒæ–‡ç« ](./docs/å‘å¸ƒæ–‡ç« .png)
![ç®¡ç†å‘˜æ—¥å¿—é¡µ](./docs/ç®¡ç†å‘˜æ—¥å¿—é¡µ.png)
![ç»‘å®šé‚®ç®±é¡µé¢](./docs/ç»‘å®šé‚®ç®±é¡µé¢.png)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ” **ç”¨æˆ·ç³»ç»Ÿ**
  
  - ç”¨æˆ·æ³¨å†Œä¸ç™»å½•
  - ä¸ªäººèµ„æ–™ç®¡ç†
  - å¤´åƒä¸Šä¼ 
  - å¯†ç æ‰¾å›ï¼ˆæ”¯æŒé‚®ç®±éªŒè¯ç ï¼‰
- ğŸ“ **å†…å®¹å‘å¸ƒ**
  
  - å›¾æ–‡åŠ¨æ€å‘å¸ƒ
  - å¤šå›¾ç‰‡ä¸Šä¼ 
  - å¯Œæ–‡æœ¬ç¼–è¾‘
- ğŸ’¬ **ç¤¾äº¤äº’åŠ¨**
  
  - ç‚¹èµ
  - è¯„è®ºä¸å›å¤
  - å…³æ³¨ä¸ç²‰ä¸
  - ç§ä¿¡èŠå¤©
- ğŸ”” **å®æ—¶é€šçŸ¥**
  
  - æ¶ˆæ¯æ¨é€ï¼ˆ@æåŠã€è¯„è®ºã€ç‚¹èµã€ç§ä¿¡ï¼‰
  - äº’åŠ¨æé†’

  
- ğŸ” **å®‰å…¨ä¸ç®¡ç†**
  - JWT æƒé™éªŒè¯
  - ç”¨æˆ·è§’è‰²ç®¡ç†ï¼ˆæ™®é€šç”¨æˆ·ã€å†…å®¹ç®¡ç†å‘˜ã€ç®¡ç†å‘˜ï¼‰
  - è¯„è®ºæ•æ„Ÿè¯è¿‡æ»¤
  - å›¾æ–‡è¯·æ±‚æ¬¡æ•°é™åˆ¶
  - é‚®ä»¶å‘Šè­¦


## ğŸ›  æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯

- **æ¡†æ¶**: Vue 3.x
- **æ„å»ºå·¥å…·**: Vite
- **UI ç»„ä»¶**: Element Plus / Vant / undraw UI
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router 4
- **HTTP å®¢æˆ·ç«¯**: Axios
- **æ ·å¼**: SCSS

### åç«¯æŠ€æœ¯

- **æ¡†æ¶**: Flask 3.x
- **æ•°æ®åº“**: MySQL
- **ORM**: SQLAlchemy
- **è®¤è¯**: JWT
- **ä»»åŠ¡é˜Ÿåˆ—**: Celery + Redis
- **æ–‡ä»¶å­˜å‚¨**: æœ¬åœ°å­˜å‚¨ / äº‘å­˜å‚¨

### å¼€å‘å·¥å…·

- **ä»£ç è§„èŒƒ**:ESLint + Prettier + flake8 + black + isort
- **ç‰ˆæœ¬æ§åˆ¶**: Git
- **åŒ…ç®¡ç†**: npm
- **å®¹å™¨åŒ–**: Docker

## ğŸ“ ç›®å½•ç»“æ„

```
loft_1/  
â”œâ”€â”€ frontend/                 # å‰ç«¯é¡¹ç›®ç›®å½•  
â”‚   â”œâ”€â”€ src/  
â”‚   â”‚   â”œâ”€â”€ api/             # API æ¥å£å°è£…  
â”‚   â”‚   â”œâ”€â”€ asset/           # é™æ€èµ„æº  
â”‚   â”‚   â”œâ”€â”€ config/          # é…ç½®æ–‡ä»¶  
â”‚   â”‚   â”œâ”€â”€ directives/      # Vue æŒ‡ä»¤  
â”‚   â”‚   â”œâ”€â”€ plugins/         # æ’ä»¶é…ç½®  
â”‚   â”‚   â”œâ”€â”€ router/          # è·¯ç”±é…ç½®  
â”‚   â”‚   â”œâ”€â”€ stores/          # Pinia çŠ¶æ€ç®¡ç†  
â”‚   â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°  
â”‚   â”‚   â””â”€â”€ views/           # é¡µé¢ç»„ä»¶  
â”‚   â”œâ”€â”€ public/              # å…¬å…±é™æ€æ–‡ä»¶  
â”‚   â”œâ”€â”€ dist/                # æ„å»ºè¾“å‡ºç›®å½•  
â”‚   â”œâ”€â”€ package.json         # å‰ç«¯ä¾èµ–é…ç½®  
â”‚   â””â”€â”€ vite.config.js       # Vite é…ç½®  
â”‚  
â”œâ”€â”€ backend/                  # åç«¯é¡¹ç›®ç›®å½•  
â”‚   â”œâ”€â”€ app/  
â”‚   â”‚   â”œâ”€â”€ api/             # API è·¯ç”±  
â”‚   â”‚   â”œâ”€â”€ auth/            # è®¤è¯æ¨¡å—  
â”‚   â”‚   â”œâ”€â”€ main/            # ä¸»è¦ä¸šåŠ¡æ¥å£(ç°å·²ä½¿ç”¨api/)  
â”‚   â”‚   â”œâ”€â”€ mycelery/        # Celery ä»»åŠ¡  
â”‚   â”‚   â”œâ”€â”€ schemas/         # è¡¨å•éªŒè¯  
â”‚   â”‚   â”œâ”€â”€ templates/       # æ¨¡æ¿æ–‡ä»¶  
â”‚   â”‚   â””â”€â”€ utils/           # å·¥å…·å‡½æ•°  
â”‚   â”‚   â””â”€â”€ models.py        # æ•°æ®æ¨¡å‹  
â”‚   â”œâ”€â”€ migrations/          # æ•°æ®åº“è¿ç§»æ–‡ä»¶  
â”‚   â”œâ”€â”€ requirements/        # Python ä¾èµ–  
â”‚   â”œâ”€â”€ tests_api/           # API æµ‹è¯•  
â”‚   â””â”€â”€ deploy/              # éƒ¨ç½²é…ç½®  
â”‚  
â””â”€â”€ docs/                    # README.mdä¸­çš„é¢„è§ˆå›¾ç‰‡
â””â”€â”€ deploy.sh                # dockeréƒ¨ç½²
â””â”€â”€ start.sh                 # å‰åç«¯å¯åŠ¨è„šæœ¬
â””â”€â”€ .pre-commit-config.yaml  # ä»£ç è§„èŒƒå·¥å…·
â””â”€â”€ README.md                # é¡¹ç›®è¯´æ˜æ–‡æ¡£  
```

## ğŸš€ ç¯å¢ƒå‡†å¤‡

### ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **Node.js** >= 16.0.0
- **Python** >= 3.8
- **MySQL** >= 8.0
- **Redis** >= 6.0

### âš™ï¸ é…ç½®æ–‡ä»¶

#### 1. åç«¯ç¯å¢ƒé…ç½®

åœ¨ `backend/` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# æ•°æ®åº“é…ç½®  
DATABASE_URL=mysql://username:password@localhost:3306/loft_db  

# Redis é…ç½®  
REDIS_URL=redis://localhost:6379/0  

# JWT å¯†é’¥  
JWT_SECRET_KEY=your-super-secret-jwt-key  

# é‚®ä»¶é…ç½® (QQé‚®ç®±ç¤ºä¾‹)  
MAIL_SERVER=smtp.qq.com  
MAIL_PORT=587  
MAIL_USE_TLS=True  
MAIL_USERNAME=your-email@qq.com  
MAIL_PASSWORD=your-qq-auth-code  # QQé‚®ç®±æˆæƒç ï¼Œä¸æ˜¯ç™»å½•å¯†ç   

# ä¸ƒç‰›äº‘é…ç½® (å¦‚æœä½¿ç”¨)  
QINIU_ACCESS_KEY=your-qiniu-access-key  
QINIU_SECRET_KEY=your-qiniu-secret-key  
QINIU_BUCKET_NAME=your-bucket-name  
QINIU_DOMAIN=your-qiniu-domain  

# åº”ç”¨é…ç½®  
FLASK_ENV=development  
SECRET_KEY=your-flask-secret-key  
```

#### 2. å‰ç«¯ç¯å¢ƒé…ç½®

åœ¨ `frontend/` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# å¹³å°æœ¬åœ°è¿è¡Œç«¯å£å·
VITE_PORT=5172
VITE_BASE=/

# å›¾ç‰‡åŸŸå
VITE_QINIU_DOMAIN=QINIU_DOMAIN
# ä¸ƒç‰›äº‘bucketåç§°
VITE_QINIU_BUCKET=QINIU_BUCKET

# åç«¯ä»£ç†åœ°å€
VITE_APP_BASE_API = '/api'

# ICP å¤‡æ¡ˆå·
VITE_ICP=xxxx
```

## ğŸƒâ€â™‚ï¸ å¯åŠ¨æ–¹å¼

### ğŸ”§ åç«¯å¯åŠ¨

```bash
# 1. è¿›å…¥åç«¯ç›®å½•  
cd backend  

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ  
python -m venv venv  

# 3. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ  
# Windows  
venv\Scripts\activate  
# macOS/Linux  
source venv/bin/activate  

# 4. å®‰è£…ä¾èµ–  
pip install -r requirements/base.txt  

# 5. æ•°æ®åº“è¿ç§»  
flask db upgrade  

# 6. å¯åŠ¨ Redis (å¦å¼€ç»ˆç«¯)  
redis-server  

# 7. å¯åŠ¨ Celery å¼‚æ­¥ä»»åŠ¡ (å¦å¼€ç»ˆç«¯)  
celery -A app.make_celery worker --loglevel INFO -P eventlet # windows
celery -A app.make_celery worker --loglevel INFO    # mac

# 8. å¯åŠ¨åç«¯æœåŠ¡  
python flasky.py  
```

åç«¯æœåŠ¡å°†åœ¨ `http://localhost:8082` å¯åŠ¨

### ğŸ¨ å‰ç«¯å¯åŠ¨

```bash
# 1. è¿›å…¥å‰ç«¯ç›®å½•  
cd frontend  

# 2. å®‰è£…ä¾èµ–  
npm install  

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨  
npm run dev  

```

å‰ç«¯æœåŠ¡å°†åœ¨ `http://localhost:5172` å¯åŠ¨

### å¦‚ä½•æˆä¸ºè¶…çº§ç®¡ç†å‘˜èº«ä»½ï¼Ÿ
é…ç½®backend/config.pyä¸­çš„FLASKY_ADMINå˜é‡
å½“ä½ ç»‘å®šçš„é‚®ç®±ä¸åç«¯é…ç½®çš„é‚®ç®±ç›¸åŒæ—¶ï¼Œè¯¥è´¦å·å°†å…·æœ‰ç®¡ç†å‘˜çš„æƒé™ã€‚
æ‹¥æœ‰ç®¡ç†å‘˜çš„æƒé™ï¼Œ ä½ å°†å¯ä»¥å¯¹æ‰€æœ‰çš„è¯„è®ºå®¡æ ¸ï¼Œå¢åŠ /åˆ é™¤tagæ ‡ç­¾ï¼Œå¸®åŠ©æœªç»‘å®šé‚®ç®±çš„ç”¨æˆ·æ‰¾å›å¯†ç ï¼
![ç®¡ç†å‘˜é‚®ç®±é…ç½®](./docs/ç®¡ç†å‘˜é‚®ç®±é…ç½®.png)
![ç®¡ç†å‘˜é¡µé¢](./docs/ç®¡ç†å‘˜é¡µé¢.png)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

### æäº¤ä»£ç 

1. **Fork é¡¹ç›®** åˆ°ä½ çš„ GitHub è´¦æˆ·
2. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**: `git checkout -b feature/amazing-feature`
3. **æäº¤æ›´æ”¹**: `git commit -m 'Add some amazing feature'`
4. **æ¨é€åˆ†æ”¯**: `git push origin feature/amazing-feature`
5. **åˆ›å»º Pull Request**

### æäº¤ Issue

å¦‚æœä½ å‘ç°äº† bug æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·ï¼š

1. æ£€æŸ¥æ˜¯å¦å·²æœ‰ç›¸å…³ Issue
2. æä¾›è¯¦ç»†çš„æè¿°å’Œå¤ç°æ­¥éª¤

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å®‰è£…å¼€å‘ä¾èµ–  
cd frontend && npm install  
cd backend && pip install -r requirements/dev.txt  

# åç«¯æµ‹è¯•
cd backend/tests_api
pytest -v        # 

# ä»£ç æ ¼å¼åŒ–  
pre-commit install
pre-commit run --all-files
```

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºåè®®ã€‚


## ğŸ™ è‡´è°¢

åœ¨æœ¬é¡¹ç›®çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå‚è€ƒäº†ä»¥ä¸‹å¼€æºé¡¹ç›®å’Œèµ„æ–™ï¼Œç‰¹æ­¤è‡´è°¢ï¼š

- **ç”¨æˆ·èµ„æ–™è®¾è®¡çµæ„Ÿ**  
  - [leleo-home-page](https://github.com/leleo886/leleo-home-page) 

- **ç½‘ç«™å¼•å¯¼é¡µéƒ¨åˆ†å®ç°å€Ÿé‰´**  
  - [Blog-Index](https://github.com/EsunR/Blog-Index)

- **è®¾è®¡æ€è·¯**  
  - Miguel Grinberg è‘—ï¼Œã€ŠFlask Webå¼€å‘ï¼šåŸºäº Python çš„ Web åº”ç”¨å¼€å‘å®æˆ˜ï¼ˆç¬¬äºŒç‰ˆï¼‰ã€‹

## ğŸ“ è”ç³»æˆ‘ä»¬

- é—®é¢˜åé¦ˆ: https://github.com/nizhensh-i/The-Reverie-Loft/issues
- é‚®ç®±: zmc_li@foxmail.com

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼